# 多实例安装部署

## 为什么要使用多实例
- 物理机强劲，单个项目无法把资源用完
- 限制单个实例数据库的大小
- 资源隔离，减少相互影响，
- 分担连接数
	- MySQL随着连接数上升，性能会出现严重下降
- 充分的利用资源
	- 不同业务错高峰混跑
- 单实例物理文件过大，备份恢复周期超过预期

### 资源对其：  
Small型：4G+2C+200G  
modum型：16G+4C+400-500G  
Large型：32G+16C+1T  
单台物理机推荐的实例数为8个，最多16个    
通过资源对其可以很好的对资源池的统计

## MySQL多实例启动和关闭的方法

```
最好的启动和配置的方法：
mysqld --defaults-file=/data/mysql/mysql3306/my.cnf &
mysqld --defaults-file=/data/mysql/mysql3307/my.cnf &
mysqld --defaults-file=/data/mysql/mysql3308/my.cnf &
注意：还有类似于使用mysqld_safe和mysqld_multi这种方法都没有使用上述方法方便和可维护

```

### MySQL默认加载配置文件顺序

![](images/3-多实例环境安装及注意事项/01.jpg)